---
title: "High velocity output"
subtitle: "for product engineering teams"
publishedAt: "2024-06-01"
summary: "Low hanging fruit for getting more done, faster."
---

_The following is an adaptation of a recent talk I presented to the Growth organization at Squarespace. I wanted to share it here as well, since I think it's a topic that's relevant to a lot of different teams and organizations in the industry._

I've been in product engineering for a while now, and I've seen a lot of different teams and approaches to improving engineering velocity. Some of them work, some of them don't. But one thing that's always struck me is how much time is wasted on things that don't matter. I'm not talking about the big stuff - the big decisions, the big features, the big bugs. I'm talking about the little things that add up over time and slow you and your team down.

At some point in time, most product engineering teams end up asking themselves some variation of the following questions:

- Why is it taking so long to get this feature out the door?
- How can we get this in front of users sooner?
- How do we move up our test launch so we can start collecting learnings faster?

These are all good questions to ask, and they're all questions that can be answered by looking at how you're spending your time. 

Are you spending it on the right things? Are you spending it on things that matter? Are you spending it on things that are going to move the needle in getting the project out the door?

Broadly speaking, these questions boil down into a single one: **How can we ship faster?** What changes can we make, big or small, that will help accelerate our timeline?

## How can we ship faster?

Luckily, there is some low hanging fruit with extremely high ROI that many teams are not taking advantage of.

The answer is simple: **Code reviews**.

## But we already do code reviews..
Sure. Most organizations already have some sort of code review practice in place, and that is great. 

But the question is: are you doing them right? Are you doing them in a way that maximizes their value to the team and the business?

And more specifically: Are you doing them in a timely fashion?

Is your team breaking down their work in a way to optimize for code review? Are you making sure that your PR's are a joy to review?

If you're not, you're leaving a lot of value on the table. And you're slowing down your team in the process.

## TL;DR for shipping faster:
It's really simple, but it's worth repeating. If you want to ship faster, you need to:

1. Make code review your top priority, every single day.
2. Make your PR's a joy to review.

Honestly. That's it! For many (if not most) product teams, It's truly that simple. And I'll tell you why that is true, and how you can make both these goals easier to achieve for you and your team.

At this point, some of you might be shaking your heads, wondering aloud: "But Tom, I'm a software engineer! Isn't my top priority _writing code_, not _reading_ it? I have this huge backlog of work to do, and it keeps growing and growing‚Ä¶ Shouldn't I focus on writing code as my top priority, and reviewing code second?"

And my answer to that is a resounding: **No**. Reviewing PR's are actually more important to the team and the business. 

And this is because code waiting on reviews represents blocked threads of execution. 

## Pending code reviews represent blocked threads of execution.

As engineers, we know that blocked threads are bad. A blocked thread is a task that is pending, but not complete.

And when a thread is blocked, things lock up! They stop moving! They don't get done!

To apply the metaphor to engineering teams: Often, a teams "thread" of feature delivery is "blocked" by a PR that is waiting on review. Features are not released if they are not done, and they are not done if they have not been carefully reviewed. 

Pending reviews don't only impact the engineer waiting for reviews. They impact the entire team. Obviously, the feature cannot be launched. But Sometimes that work waiting for review is blocking another engineer from starting. In the worst case, a single review bottleneck can prevent _any other task_ from being started. Yikes!

## The two options for blocked engineers
When an engineer is blocked waiting for reviews, they have two options available to them. Lets call them the best case and worst case scenarios.

### Best case scenario:
In the best case scenario, the blocked engineer can put their blocked work on pause, and switch over to some other unrelated task. But this is not a good outcome for the engineer or the team, as they must incur the expensive cost of *memory reallocation* and *context switching*. We'll touch on that in more detail in a minute.

### Worst case scenario:
In the worst case scenario, there are no other pending threads to pull on. If the remaining work is entirely serialized on the blocked review, then the engineer can't make _any progress at all_. They're entirely blocked, waiting.

# Best case scenario: Incurring the cost of context switching
> "Multitasking is a myth. You cannot do two things at once." - Earl Miller, MIT neuroscientist

The cost of context switching is a well known concept in software engineering. It's the cost of moving your brain from one task to another. It's the cost of remembering where you left off, and what you were working on. It's the cost of getting back into the flow of things.

And many of us think quietly to ourselves: "Not me! I know _other people_ struggle with context switching, but I am a pro at handling it. I can switch between tasks with ease!"

But the truth is, context switching is a real cost, and it's a cost that we all pay. Science has all but proved it; humans are, across the board, terrible at multitasking. I'm sorry to break this news to you (it was a shock for me, too!). Don't believe me? Here are some quotes from some studies:

> __‚ÄúOur data suggests that people compensate for interruptions by working faster, but this comes at a price: experiencing more stress, higher frustration, time pressure and effort.‚Äù__ 
> _- [The Cost of Interrupted Work: More Speed and Stress"](https://ics.uci.edu/~gmark/chi08-mark.pdf)_

> __‚Äútask switching results in increased error rates.‚Äù__ 
> _- ["Task Switching" by Monsell (2003)](https://pubmed.ncbi.nlm.nih.gov/12825643/)_

> __‚Äúmultitasking impairs executive functions in the brain, which are responsible for managing cognitive processes. [...] leading to slower overall performance‚Äù__ - _["Multitasking Slows You Down" by Verywell Mind (2023)](https://www.verywellmind.com/multitasking-2795003)_

These studies conclude the same things: multitasking and context switching lead to more stress, slower work, and ultimately lower quality of work than focusing on a single task to completion.

This is because switching eats our finite memory bandwidth. You have PR A open, and now you're switching to B. You need to keep context about both in your memory in case you need to bounce back to A. The more tasks you have in the air at the same time, the more precious bandwidth is required. 

Unfortunately, unlike computers, Humans have very finite amounts of memory. That memory can get paged out, forcing us to ‚Äúramp up‚Äù on the new thing, which is slow. Thus the expensive cost of context switching.

So look at it this way; It's not only better for the business to minimize context switching, but it's also better for your personal health and well being. So avoid it when you can!

### Isn't going from code writing to code reviewing a form of context switching, though? ü§î

Yes! It is! You caught me. Switching from code writing to code reviewing _is_ context switching, and _can_ be expensive.

However, this is good context switching: we're using that expensive cost of the switch in order to buy something more valuable: **team velocity**.

The team as a whole is better off by prioritizing reviews. That's because reviews represent tracks of work that are closer to the finish line than your work in progress.

Moving work from the ‚Äúin review‚Äù to ‚Äúdone‚Äù column is far more valuable for the teams net velocity than moving a single task from your todo to in progress.

The teams velocity is the aggregate of everyone on the team, not your individual velocity.

Said another way: **it is far more valuable to focus the team's energy on moving items from "IN PROGRESS" to "DONE", than it is to move items from "TODO" to "IN PROGRESS".**

This is even represented in some agile methods, where the sprint board is reviewed right-to-left, from closest-to-done to not yet started. This puts the team's focus and emphasis on __‚Äúhow do we get this over the finish line‚Äù__, which is the right attitude for high velocity teams.

OK - so we're on the same page that context switching isn't great. If that is the best case scenario, what is the worst?

## Worst case scenario: Serialized work blocks all progress.

Serialized work is the idea that we need to finish Task A before we can start on Task B. And when work is overly serialized, pending reviews can block all progress.

Obviously, we always try to ensure everyone on the team has a few threads available to them to avoid this. But sometimes that just isn't possible or realistic. In this scenario, the act of code review becomes a synchronous barrier that prevents other work from getting done.

As a team, we all depend on one another to get work done so we can meet our goals, and unfortunately, this work often cannot be completely parallelized. 

Maybe we're blocked on infrastructure issues, or waiting on work from other teams to wrap before we can integrate. Working in a serialized way means the entire team moves at the speed of the slowest common denominator, whatever that may be. Which is not good if you're trying to ship quickly.

But many times these constraints may be outside of our direct control, and that's OK. We don't live in a perfect world. But if we focus on what we can control, most of the time, when we are blocked from progressing, we're not blocked on factors external to the team, but rather internal: we're blocked on someone writing code, or on someone reviewing it.

So, the best way to unblock the team and yourself is to ensure everyone is reviewing and getting reviewed as quickly as possible.

# Tips for Code Reviewers and Code Authors
OK! I'm going to assume / hope that I've sold you on the premise of prioritizing code review above other work, since it helps the team get closer to its goals, faster.

Now, how do we make this happen?

I believe there are a few low-hanging things we can do both as reviewers and authors to optimize for efficiency.

### Tips for Reviewers
Here's five ways to become a rock star code reviewer and help your team close work out faster:

#### Reviewer Tip 1: Always know what reviews you're on the hook for.
The first tip for code reviewers is to always know what reviews you're on the hook for.

Think quickly right now: do you immediately know all the tracks of work your coworkers are working on, and of those tracks of work, which most need your input?

How about the reverse? Do you know which tracks of work don't need your input? Do you know who is waiting for your feedback right now?

You need to prioritize having a simple and quick way to instantly see all the pending review requests that someone (or some automated tool) went through the trouble to attach your name to.

 Some code review systems do this better than others; Luckily, we have GitHub, which offers some great controls for monitoring notifications.

I personally like to use the GitHub Slack integration, and whenever I am added to a PR as a reviewer or someone replies to my comment, I get a push notification in slack.

I won't try to tell you how to filter your alerts or what tools to use, because that is largely just personal preference. But it's critical that you have a way to quickly find reviews for which you, specifically, owe time.

#### Reviewer Tip 2: Shorten your event loop; be interrupt driven.
Armed with a method to quickly find out what code you need to review, the next tip is to shorten your event loop.

Your event loop is the cycle of activities and tasks you go through in your day-to-day workflow.

Start to integrate your review monitoring method into your event loop, with the platonic ideal being able to handle code review requests as they arrive in real time. Believe it or not, there are teams out there with a sub-15-minute time-to-review loop, and these are some of the highest output teams in the industry. 

And of course, as I mentioned earlier, Everybody needs heads-down focus time to get their work done, and switching from a tight code/compile/test eval loop into a code review cycle is not free; weigh the cost of these context switches against the larger switch you have to make when you're blocked on others for code review. 

It's OK to put off a code review for a few minutes while you finish a thought in your own work. Get to a safe check point, then turn your focus to reviewing.

Don't put reviewing off for a day, or even for more than a few hours; If you have time to get up to eat, chat, or go to the bathroom, you probably have time to run through your code review requests before pushing up your diff. 

Try to Allow yourself to be interrupted by reviews. When I tell people this, they are often confused: ‚ÄúBut how will I get my work done if I am stopping all the time to help others?‚Äù It's important to remember that your personal disruption is less expensive for the team than delaying overall team progress. And in turn, your own PR's will benefit in kind from that same responsiveness from your teammates. 

#### Reviewer Tip 3: Prioritize reviews over all other work (within reason).

Yes, you heard that right: Reviewing code is a more important part of your job than writing new code!

This is sort of a combination of my previous two points, but I think it bears specific attention: threads of execution are blocked and unproductive while code review requests are pending. If you let code go unreviewed, you are explicitly prioritizing your personal productivity over the productivity of the team. 

If everyone on the team is operating at 75% efficiency because they are spending 25% of their time in code review, that is a better outcome than some members of the team operating at 95% and other members idling or thrashing.

If you have nothing to say on the review, then say that! If your name is on a review, you should at least acknowledge it with something like ‚ÄúLGTM, but I don't really know this code well.‚Äù The key point is to minimize the time between outgoing and incoming activity on the review, so nobody's ever blocked for more time than is strictly necessary.

I want to immediately say, ‚Äúrubber stamping‚Äù a PR is an antigoal. If you don't understand the PR or the code, that is OK, but encourage the PR author to find someone who is knowledgeable of it. It's unreasonable to expect you to know everything, but it's important to surface that knowledge gap so the appropriate parties can be included. Our Staff engineers are a huge help here at helping us find the right people to include!

#### Reviewer Tip 4: Expect to spend time reviewing code every day, multiple times a day.
Tip 4 is that you need to be reviewing code every day, and ideally multiple times throughout the day.

At a minimum, your day should begin and end with clearing your code-review backlog. 
Ideally you find time to clear the backlog at least once or twice in between.

Inbox zero is the goal here, and I don't think it's unreasonable to spend one or two total hours a day on getting there. 
Don't spend it all at once, though! Reviewing too much code or too many PR's in one go is a recipe for brain drain and can reduce your effectiveness.
If you've reviewed more than 500 lines of code in an given hour, take a break for a bit. 

#### Reviewer Tip 5: Be kind, be specific, be thorough, and be actionable.

The only things worse than no code review at all are rubber-stamp ‚ÄúLGTM‚Äù PR's, or a single good review broken into many smaller less-thorough reviews over multiple days. 

It's the code author's job to open PR's that are well-formed and and carefully crafted. 

It's the reviewer's job to be as thorough as possible in each pass, rather than metering out their feedback in a series of partial reviews over multiple revisions of a review request.

Remember the goal here is not to finish your reviews as fast as possible, but to decrease the delta between ‚Äúcode is ready for feedback‚Äù and the code starting to receive that feedback.

 If a review drags out into many revisions, it's sometimes because it started out sloppy, and this is a growth area for many. But it can also be because reviewers didn't pay enough attention the first, second, or third time and missed things. This is something many of us, including myself, continue to work on, and it's hard to be consistent about. Try your best to be as exhaustive in your first pass as possible. But If you catch something late in a review cycle, own up to it, and apologize. We're only human.

OK! Now that we're rock-star code reviewers, how do we become equally-amazing code authors?

### Tips for Authors
Here's 4 tips for authoring code that your coworkers will love:

#### Author Tip 1: Dot your i's and cross your t's. 
In exchange for your reviewers having code review as their top priority, you need to in kind make your PR as good as you can. 

Always take the time to dot your i's and cross your t's before anyone even sees your code. Be thorough, and put your best foot forward. Your teammates are prioritizing reviewing your code over all their other important work, so it is our responsibility to not waste their time.

I recommend pushing your code to GitHub as a Draft PR. Then, sit down and self-review your PR as if it belongs to someone else. Make sure nothing is missing, and nothing is unnecessary. You might be shocked at how many small things you catch just by reviewing your own code in one sitting! You can also take this time to make sure you're only making changes that you need to make, and not dragging along a bunch of other unrelated improvements. put those in the backlog and cherry pick to a new branch, instead!

Make sure you have, to the best of your ability, written code you like and which conforms to the style guidelines (or local examples) of the project you're working in. 

Don't submit a review request and then immediately push multiple revisions as you find problems; this will confuse and bewilder your reviewers. If you don't like what you see, discard the draft review before opening for comments, fix your branch, push it, and start over. But make sure once you ask others to look at it, it's ready to be looked at.

#### Author Tip 2:  Keep review requests as small as humanly possible. 

Tip 2 for code authors is to Bias heavily towards small, digestible, bite-sized pull requests.

Large PR's should be broken down into smaller, easier to reason about changes, which can be reviewed in sequence, or better still, in parallel, if the work can be sliced in a way that makes that doable.

As a rule of thumb, avoid PR's over 400-500 lines of code. This is actually backed up by studies where researchers found a correlation between lines of code and how density of bug detection. As lines of code exceeds 400, the detection rate plummets, probably because your coworkers eyes glaze over as they start thinking about their weekend plans or the novel they want to write. Don't make it easy to ship bugs. open small pull requests.

And besides: If everyone agrees to review code as it is authored, there's no advantage to batching multiple small changes together in one PR, and there are distinct disadvantages to it. The most dangerous outcome of a large review request is that reviewers are unable to sustain focus and the code isn't reviewed well or at all.

Small PR's mean they get reviewed faster, bugs are more likely to be caught, and approvals are more likely to land sooner rather than later. So do it!

#### Author Tip 3: Write _actually good_ titles and descriptions.

A super important tip, and one that doesn't get the attention it needs: Write good titles and descriptions in your PRs!
The title of your review request should distinguish it clearly in a list of other review requests in someone's inbox. If the title of your PR is the most recent commit message on your branch, you've failed your team. If the title of your PR is just a copy/paste of the JIRA ticket, that's not providing any additional value. Try to capture the scope and intent of the changes in a single sentence.

Your description should tell the story of your change. 
The emphasis here is _the story_, not a regurgitation of the code itself. The description should not be a list of commit details, or copy/pasted from the JIRA ticket. Instead, you should talk about why you're making the change, what problem you're solving, what code you changed, what classes you introduced, how you tested it. 

By reading the description, reviewers should be able to tell specifically what parts should be focused on more, and which parts are less important. Your reviewers will thank you for making their job easier by explaining to them what they should be looking at, and their reviews will be correspondingly more thorough.‚Äã

As a bonus, you can consider leaving inline comments on your own PR to help guide the reviewer and provide additional context.

#### Author Tip 4: Acknowledge comments quickly

A tight event loop is even more important when your code is out for review; Do your best to acknowledge comments as quickly as you can, and particularly to ask for clarification if you don't understand the comment or want to push back on it. 

As soon as a reviewer submits their comments, the action is back on you. The ball is back in your court.
If the changes requested are straightforward and small, push a new version quickly and flag the PR for re-review to keep the ball rolling. The more quickly you're able to respond to comments and push fixes, the more likely the reviewer is to still have your PR in their memory, and the more quickly you'll arrive at a consensus.

# Wrapping up 
So if you take anything away from this ~~talk~~ article, take these points:

* Code Review is a common bottleneck for teams to deliver work.
* Prioritizing code review is a force multiplier for you and for your team.
* Context switching is expensive, causes stress, and damages work quality. Avoid it!
* Do your part to be a good teammate: Make code review your top priority, and make your PR's a joy to review.

Happy hacking!